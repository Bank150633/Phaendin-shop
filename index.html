<style>
    /* โซนสินค้าแนะนำด้านบน */
    .recommended-section {
        background: #1a1a1a;
        padding: 15px;
        border-bottom: 2px solid var(--gold);
    }
    .section-title {
        color: var(--gold);
        font-size: 14px;
        font-weight: 600;
        margin-bottom: 10px;
        display: flex;
        align-items: center;
        gap: 5px;
    }
    .rec-scroll {
        display: flex;
        gap: 15px;
        overflow-x: auto;
        padding-bottom: 10px;
    }
    .rec-scroll::-webkit-scrollbar { display: none; }

    .rec-item {
        min-width: 140px;
        width: 140px;
        background: #222;
        border: 1px solid var(--gold);
        border-radius: 10px;
        overflow: hidden;
        position: relative;
    }
    .rec-img { width: 100%; aspect-ratio: 1/1; object-fit: cover; }
    .rec-price { 
        position: absolute; bottom: 0; left: 0; right: 0;
        background: rgba(212, 175, 55, 0.9);
        color: #000; font-size: 12px; font-weight: bold;
        text-align: center; padding: 4px;
    }
</style>

<div id="recommended-zone" class="recommended-section" style="display:none;">
    <div class="section-title">⭐ PHAENDIN SELECTION</div>
    <div class="rec-scroll" id="rec-container">
        </div>
</div>

<script>
    function renderProducts(products) {
        const container = document.getElementById('product-container');
        const recContainer = document.getElementById('rec-container');
        const recZone = document.getElementById('recommended-zone');
        
        container.innerHTML = '';
        
        // ถ้าเป็นหน้า "ทั้งหมด" ให้โชว์โซนแนะนำด้านบน
        if (currentCat === 'all') {
            recZone.style.display = 'block';
            recContainer.innerHTML = '';
            
            // ดึง 4 ชิ้นแรกมาทำเป็นสินค้าแนะนำด้านบน
            const recItems = allProducts.slice(0, 4);
            recItems.forEach(cols => {
                recContainer.innerHTML += `
                    <a href="${cols[3]}" target="_blank" style="text-decoration:none;">
                        <div class="rec-item">
                            <img class="rec-img" src="${cols[1]}">
                            <div class="rec-price">฿${cols[2]}</div>
                        </div>
                    </a>`;
            });
        } else {
            recZone.style.display = 'none';
        }

        // สินค้าปกติที่เหลือ (เริ่มแสดงตั้งแต่ชิ้นที่ 5 เป็นต้นไป)
        const displayProducts = (currentCat === 'all') ? products.slice(4) : products;

        displayProducts.forEach(cols => {
            container.innerHTML += `
                <div class="deal-card">
                    <div class="deal-badge">${cols[4] || 'HOT'}</div>
                    <img class="deal-img" src="${cols[1]}">
                    <div class="deal-info">
                        <h3 class="deal-title">${cols[0]}</h3>
                        <div class="deal-price">฿${cols[2]}</div>
                        <a href="${cols[3]}" class="btn-deal" target="_blank">สั่งซื้อ</a>
                    </div>
                </div>`;
        });
    }
</script>
